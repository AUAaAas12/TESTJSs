

WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.teams:teams-wr-page-manage-scripts', location = '/teams/scripts/page-manage.js' */
!function(t){function e(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,o){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=27)}([function(t,e){t.exports=common_client_13f7e765c347af1a1deb(0)},function(t,e){t.exports=common_vendor_1fc82d969f1e74c47c2c(6)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(322)},function(t,e,r){var o,n;o=[r(45)],void 0!==(n=function(t){return t("com.atlassian.teams")}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_vendor_1fc82d969f1e74c47c2c(9)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(38)],void 0!==(n=function(t){return function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e}(t)}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_vendor_1fc82d969f1e74c47c2c(54)},function(t,e,r){var o,n;o=[r(33)],void 0!==(n=function(t){return t.create({eventNamePrefix:"rm.teams"})}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(250)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(414)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(1),r(4),r(9),r(64)],void 0!==(n=function(t,e,r,o){var n;return n=function(t){function e(t,r){e.__super__.constructor.apply(this,arguments),r&&(this.service=r.service)}return i(e,t),e.prototype.getId=function(){return this.id},e.prototype.isVirtual=function(){return void 0===this.attributes.user},e.prototype.getTitle=function(){var t;return t=this.attributes.user,null!=t?t.attributes.title:this.attributes.title},e.prototype.getAvatarUrl=function(){var t;return t=this.attributes.user,null!=t?t.attributes.avatarUrl:this.attributes.avatarUrl},e.prototype.getUser=function(){return this.attributes.user},e.new=function(t){var e,r,o,n,i,a,s;return i=null!=t?t:{},o=i.id,a=i.title,e=i.avatarUrl,s=i.user,n=i.personService,r={id:o,title:a,avatarUrl:e,user:s},new this(r,{service:n})},e.parse=function(t){var e,r,n;return r=t.json,n=t.personService,e={id:r.personId,title:r.title,avatarUrl:r.avatarUrl,user:null!=r.jiraUser?o.parse({json:r.jiraUser}):void 0},new this(e,{service:n})},e}(e.Model),t.extend(n.prototype,r.create()),n}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(351)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(74)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(184)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(60)],void 0!==(n=function(t,e){return function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype.template=e,r.prototype.additionalStyles=void 0,r.prototype.className=function(){var t;return t="jpot-manage-teams-content",this.additionalStyles?t+" "+this.additionalStyles:t},r.prototype.regions={warningRegion:".jpot-warning-region",searchRegion:".jpot-search-region",contentRegion:".jpot-content-region",pagingRegion:".jpot-paging-region"},r}(t.LayoutView)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(6),r(1),r(0),r(10)],void 0!==(n=function(t,e,r,o){return function(r){function n(t,e){n.__super__.constructor.apply(this,arguments),e&&(this.service=e.service)}return i(n,r),n.parse=function(t){var r,n;return r=t.jsonArray,n=t.personService,new this(e.map(r,function(t){return o.parse({json:t,personService:n})}),{service:n})},n.prototype.tryAdd=function(e){return null!=this.service?t.when(this.service.create({person:e})).done(function(t){return function(r){return e.set("id",r.id),e.service=t.service,t.add(e)}}(this)):this.add(e)},n.prototype.tryRemove=function(t){if(this.remove(t),null!=this.service)return this.service.delete({person:t})},n}(r.Collection)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(1),r(4),r(9)],void 0!==(n=function(t,e,r){var o;return o=function(t){function e(t,r){e.__super__.constructor.apply(this,arguments),r&&(this.service=r.service)}return i(e,t),e.prototype.getId=function(){return this.id},e.prototype.getPerson=function(){return this.attributes.person},e.prototype.setPerson=function(t){return this.set("person",t)},e.prototype.getWeeklyHours=function(){return this.attributes.weeklyHours},e.prototype.getTitle=function(){return this.attributes.person.getTitle()},e.prototype.getAvatarUrl=function(){return this.attributes.person.getAvatarUrl()},e.new=function(t){var e,r,o,n,i,a;return n=null!=t?t:{},r=n.id,a=n.weeklyHours,o=n.person,i=n.resourceService,e={id:r,weeklyHours:a,person:o},new this(e,{service:i})},e.parse=function(t){var e,r,o,n;return r=t.json,o=t.persons,n=t.resourceService,e={id:r.id,weeklyHours:r.weeklyHours},e.person=o.get(r.personId),new this(e,{service:n})},e}(e.Model),t.extend(o.prototype,r.create()),o}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(305)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(553)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(353)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(354)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(1),r(0),r(9),r(63)],void 0!==(n=function(t,e,r,o){var n;return n=function(t){function e(t,r){e.__super__.constructor.apply(this,arguments),r&&(this.service=r.service)}return i(e,t),e.prototype.initialize=function(t){var e;return e=t.resources,this.forwardAll(e,{prefix:"resource",addThis:!0})},e.prototype.getId=function(){return this.id},e.prototype.getTitle=function(){return this.attributes.title},e.prototype.setTitle=function(t){return this.setValue("title",t)},e.prototype.getAvatarUrl=function(){return this.attributes.avatarUrl},e.prototype.getResources=function(){return this.attributes.resources},e.prototype.getPersonIds=function(){var t;return t=this.attributes.resources,t.map(function(t){return t.getPerson().getId()})},e.prototype.setServices=function(t){var e,r;return r=t.teamService,e=t.resourceService,this.service=r,this.getResources().setService(e)},e.parse=function(t){var e,r,n,i,a,s,p;return r=t.json,n=t.persons,p=t.teamService,i=t.resourceService,a=o.parse({jsonArray:r.resources,persons:n,resourceService:i}),e={id:r.id,title:r.title,avatarUrl:r.avatarUrl,shareable:r.shareable,resources:a},s=new this(e,{service:p}),a.setTeam(s),s},e.new=function(t){var e,r,n,i,a,s,p,u,c;return i=null!=t?t:{},n=i.id,c=i.title,e=i.avatarUrl,s=i.shareable,u=i.teamService,a=o.new(),r={id:n,title:c,avatarUrl:e,shareable:s,resources:a},p=new this(r,{service:u}),a.setTeam(p),p},e}(e.Model),t.extend(n.prototype,r.create()),n}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(3),r(2),r(74),r(75)],void 0!==(n=function(t,e,r,o){return{create:function(n){var a,s,p;return a=n.getAvatarUrl,s=n.getTitle,p=n.isVirtual,function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,e),n.prototype.className="jpot-title-cell",n.prototype.template=t.features.personAvailability?r:o,n.prototype.templateHelpers=function(){return{title:s(this.model),isVirtual:p(this.model)}},n.prototype.ui={avatar:".jpot-avatar"},n.prototype.triggers={"click a.jpot-title":"details"},n.prototype.onShow=function(){var t;if(t=a(this.model))return this.ui.avatar.css({"background-image":"url("+t+")"})},n}(e.BaseFocusCell.ItemView)}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(1),r(4),r(9)],void 0!==(n=function(t,e,r){var o;return o=function(t){function e(t,r){e.__super__.constructor.apply(this,arguments),r&&(this.service=r.service)}return i(e,t),e.prototype.getId=function(){return this.id},e.prototype.getTitle=function(){return this.attributes.title},e.new=function(t){var e,r,o,n,i;return o=null!=t?t:{},r=o.id,i=o.title,n=o.skillService,e={id:r,title:i},new this(e,{service:n})},e.parse=function(t){var e,r,o;return r=t.json,o=t.skillService,e={id:r.id,title:r.description.title},new this(e,{service:o})},e}(e.Model),t.extend(o.prototype,r.create()),o}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(4)],void 0!==(n=function(t){return function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.getStartDate=function(){return this.attributes.startDate},e.prototype.getEndDate=function(){return this.attributes.endDate},e.prototype.getWeeklyHours=function(){return this.attributes.weeklyHours},e.prototype.getTitle=function(){return this.attributes.title},e.new=function(t){var e,r,o,n,i,a;return o=null!=t?t:{},n=o.startDate,r=o.endDate,a=o.weeklyHours,i=o.title,e={startDate:n,endDate:r,weeklyHours:a,title:i},new this(e)},e.parse=function(t){var e,r;return r=t.json,e={startDate:r.startDate,endDate:r.endDate,weeklyHours:r.weeklyHours,title:r.title},new this(e)},e}(t.Model)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(4)],void 0!==(n=function(t){return function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.getStartDate=function(){return this.attributes.startDate},e.prototype.getEndDate=function(){return this.attributes.endDate},e.prototype.getTitle=function(){return this.attributes.title},e.new=function(t){var e,r,o,n,i;return o=null!=t?t:{},n=o.startDate,r=o.endDate,i=o.title,e={startDate:n,endDate:r,title:i},new this(e)},e.parse=function(t){var e,r;return r=t.json,e={startDate:r.startDate,endDate:r.endDate,title:r.title},new this(e)},e}(t.Model)}.apply(e,o))&&(t.exports=n)},,function(t,e,r){var o,n;o=[r(28)],void 0!==(n=function(t){var e,o;return e=void 0,o=function(){return r(29)},t.onPageLoaded(function(){null==e&&(e=o())})}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(388)},function(t,e,r){var o,n;o=[r(30),r(31),r(32),r(34),r(35),r(36),r(46)],void 0!==(n=function(t,e,r,o,n,i,a){var s;return s=i.create(),t.setup({fullsize:!0,template:n,errorReportingService:s.errorReportingService,pluginKey:"com.atlassian.teams",callback:function(t){var n;return e.listenForErrors({ErrorAnalytics:o}),r.firePageLoaded(),n=new a({api:s}),t.addRegions({root:"#content > form > .jpot-root-container"}),t.root.show(n.getView())}})}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(387)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(258)},function(t,e,r){var o,n;o=[r(7)],void 0!==(n=function(t){return{firePageLoaded:function(){return t.fire("page.loaded")}}}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(257)},function(t,e,r){var o,n;o=[r(7)],void 0!==(n=function(t){return{fireClientErrorOccurred:function(){return t.fire("error.client")},fireServerErrorOccurred:function(e){var r;return r=e.xhr,t.fire("error.server",{responseStatus:r.status})}}}.apply(e,o))&&(t.exports=n)},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<form class="aui aui-legacy-forms" action="javascript:void(0);" x-ms-format-detection="none"><div class="jpot-root-container"></div><div class="jpo-root-messages"></div></form>';return __p}},function(t,e,r){var o,n;o=[r(37),r(39),r(40),r(41),r(42),r(43),r(44),r(3)],void 0!==(n=function(t,e,r,o,n,i,a,s){return{create:function(){var p;return p=function(t){return new t({url:s.restUrl,devMode:s.devMode,errorCallback:function(){return a.handleServerError.apply(a,arguments)}})},{teamService:p(t),resourceService:p(e),personService:p(r),skillService:p(o),errorReportingService:p(n),exceptionService:p(i)}}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(1),r(5)],void 0!==(n=function(t,e){return function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,e),r.prototype.findTeams=function(t){var e,r,o;return o=t.query,e=t.excludedIds,r=t.maxResults,this.fix(function(){var t,n;return null==r&&(r=50),n=this.url+"teams/find",t={query:o,excludedIds:e,maxResults:r},this.ajax.post({url:n,data:t})})},r.prototype.create=function(e){var r;return r=e.team,this.fix(function(){var e,o;return o=this.url+"teams/create",e=t.pick(r.attributes,["title","avatarUrl","shareable"]),this.ajax.post({url:o,data:e})})},r.prototype.setValue=function(t,e,r){return this.fix(function(){var o,n,i;return i=this.url+"teams/"+t.getId()+"/update",n={},n[""+e]=r,o=n,this.ajax.post({url:i,data:o})})},r.prototype.setValues=function(t,e){return this.fix(function(){var r,o;return o=this.url+"teams/"+t.getId()+"/update",r=e,this.ajax.post({url:o,data:r})})},r.prototype.delete=function(t){var e;return e=t.team,this.fix(function(){var t;return t=this.url+"teams/"+e.getId()+"/delete",this.ajax.delete({url:t})})},r}(e)}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(168)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(1),r(5)],void 0!==(n=function(t,e){return function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,e),r.prototype.setValue=function(t,e,r){return this.fix(function(){var o;return this.setValues(t,(o={},o[""+e]=r,o))})},r.prototype.setValues=function(e,r){return this.fix(function(){var o,n;return n=this.url+"resources/"+e.getId()+"/update",o=t.mapObject(r,function(t){return{value:t}}),this.ajax.post({url:n,data:o})})},r.prototype.delete=function(t){var e;return e=t.resource,this.fix(function(){var t;return t=this.url+"resources/"+e.getId()+"/delete",this.ajax.delete({url:t})})},r.prototype.create=function(t){var e,r;return r=t.team,e=t.resource,this.fix(function(){var t,o;return o=this.url+"teams/"+r.getId()+"/createPersonAndResource",t={title:e.getPerson().getTitle(),weeklyHours:e.getWeeklyHours()},this.ajax.post({url:o,data:t})})},r.prototype.add=function(t){var e,r;return r=t.team,e=t.resource,this.fix(function(){var t,o;return o=this.url+"teams/"+r.getId()+"/addResource",t={personId:e.getPerson().getId(),weeklyHours:e.getWeeklyHours()},this.ajax.post({url:o,data:t})})},r}(e)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(1),r(5)],void 0!==(n=function(t,e){return function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,e),r.prototype.create=function(t){var e;return e=t.person,this.fix(function(){var t,r;return r=this.url+"persons",t={title:e.getTitle()},this.ajax.post({url:r,data:t})})},r.prototype.findPage=function(t){var e,r;return r=t.query,e=t.maxResults,this.fix(function(){var t,o;return null==e&&(e=100),o=this.url+"persons/page",t={query:r,maxResults:e},this.ajax.post({url:o,data:t})})},r.prototype.find=function(t){var e,r,o;return o=t.query,e=t.excludedIds,r=t.maxResults,this.fix(function(){var t,n;return null==r&&(r=50),n=this.url+"persons/find",t={query:o,excludedIds:e,maxResults:r},this.ajax.post({url:n,data:t})})},r.prototype.getAbsencesAndAvailabilities=function(t){var e;return e=t.person,this.fix(function(){var t;return t=this.url+"persons/"+e.getId()+"/details",this.ajax.get({url:t})})},r.prototype.setValue=function(t,e,r){return this.fix(function(){var o,n,i;return i=this.url+"persons/"+t.getId()+"/update",n={},n[""+e]={value:r},o=n,this.ajax.post({url:i,data:o})})},r.prototype.setValues=function(e,r){return this.fix(function(){var o,n;return n=this.url+"persons/"+e.getId()+"/update",o=t.mapObject(r,function(t){return{value:t}}),this.ajax.post({url:n,data:o})})},r.prototype.delete=function(t){var e;return e=t.person,this.fix(function(){var t;return t=this.url+"persons/"+e.getId()+"/delete",this.ajax.delete({url:t})})},r}(e)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(5)],void 0!==(n=function(t){return function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.findSkills=function(t){var e,r,o;return o=t.query,e=t.excludedIds,r=t.maxResults,this.fix(function(){var t,n;return null==r&&(r=50),n=this.url+"skills/find",t={query:o,excludedIds:e,maxResults:r},this.ajax.post({url:n,data:t})})},e.prototype.create=function(t){var e;return e=t.skill,this.fix(function(){var t,r;return r=this.url+"skills",t={title:e.getTitle()},this.ajax.post({url:r,data:t})})},e.prototype.delete=function(t){var e;return e=t.skill,this.fix(function(){var t;return t=this.url+"skills/"+e.getId()+"/delete",this.ajax.delete({url:t})})},e}(t)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(5)],void 0!==(n=function(t){return function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.reportError=function(t){var e,r,o;return e=t.errorReport,o=t.toAddress,r=t.fromName,this.fix(function(){var t,n;return n=this.url+"errors/report",t={errorReport:e,toAddress:o,fromName:r},this.ajax.post({url:n,data:t})})},e}(t)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(5)],void 0!==(n=function(t){return function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.provokeRegular=function(t){return this.fix(function(){var e,r;return r=this.url+"exceptions/provokeRegular",e={message:t},this.ajax.post({url:r,params:e})})},e.prototype.provokeUnexpectedWithNoContent=function(){return this.fix(function(){var t;return t=this.url+"exceptions/provokeUnexpectedNoContent",this.ajax.post({url:t})})},e.prototype.provokeUnexpectedWithStringContent=function(t){return this.fix(function(){var e,r;return r=this.url+"exceptions/provokeUnexpectedString",e={message:t},this.ajax.post({url:r,params:e})})},e.prototype.provokeUnexpectedWithJSONContent=function(t){return this.fix(function(){var e,r;return r=this.url+"exceptions/provokeUnexpectedObject",e={message:t},this.ajax.post({url:r,params:e})})},e}(t)}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(50)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(154)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(47)],void 0!==(n=function(t,e){var r;return r=t.LayoutView.createSimpleDefinition("jpot-root",[{key:"contentRegion",div:"jpot-root-inner"}]),function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return i(o,t),o.prototype.initialize=function(t){var o;return o=t.api,this.mainController=new e({api:o}),this.view=new r},o.prototype.onViewShown=function(){return this.view.contentRegion.show(this.mainController.getView())},o}(t.ViewController)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(48),r(49),r(56),r(99),r(109)],void 0!==(n=function(t,e,r,o,n,a){var s;return s=t.LayoutView.createSimpleDefinition("jpot-main",[{key:"headerRegion",div:"jpot-header-region"},{key:"detailableRegion",div:"jpot-detailable-region"}]),function(t){function p(){return p.__super__.constructor.apply(this,arguments)}return i(p,t),p.prototype.initialize=function(t){return this.api=t.api,this.view=new s,this.headerController=new r({api:this.api}),this.contentController=new o({api:this.api}),this.detailableLayoutController=new e({createContentViewControllerFunction:function(t){return function(){return t.contentController}}(this),createDetailsViewControllerFunction:function(t){return function(e){var r,o;return o=e.person,r=e.initiallyExpandedTeam,t.detailsViewController=new n({api:t.api,person:o,initiallyExpandedTeam:r})}}(this)}),this.upon(this.headerController,"create:team:requested",this.onCreateTeamRequested),this.upon(this.contentController,"person:details:requested",this.showDetailsForPerson),this.upon(this.contentController,{"person:removed":function(t){var e;return null!=(e=this.detailsViewController)?e.onPersonRemoved(t):void 0},"team:removed":function(t){var e;return null!=(e=this.detailsViewController)?e.onTeamRemoved(t):void 0},"team:resource:removed":function(t,e){var r;return null!=(r=this.detailsViewController)?r.onResourceRemoved(e):void 0},"skillTab:displayed":function(){var t;return null!=(t=this.detailsViewController)?t.onSkillTabDisplayed():void 0}})},p.prototype.onViewShown=function(){return this.view.headerRegion.show(this.headerController.getView()),this.view.detailableRegion.show(this.detailableLayoutController.getView())},p.prototype.onCreateTeamRequested=function(){var t;return t=new a({api:this.api}),this.upon(t,"team:created",function(t){return this.contentController.adaptToNewTeam(t)}),t.showDialog()},p.prototype.showDetailsForPerson=function(t,e){var r;return null==e&&(e={}),r=e.initiallyExpandedTeam,this.detailableLayoutController.showDetails({person:t,initiallyExpandedTeam:r})},p}(t.ViewController)}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(232)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(3),r(50),r(52)],void 0!==(n=function(t,e,r,o){return function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.initialize=function(t){return this.api=t.api,this.view=new r,this.forwardEvents(this.view,["create:team:requested"])},n.prototype.onViewShown=function(){if(e.devMode)return this.view.optionsRegion.show(new o({api:this.api}))},n}(t.ViewController)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(51)],void 0!==(n=function(t,e){return function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype.className="jpot-header clearfix",r.prototype.template=e,r.prototype.templateHelpers=function(){return{isComefromPlan:this.isComefromPlan}},r.prototype.ui={goBackToPlan:".jpot-back-plan"},r.prototype.triggers={"click .jpot-create-team":"create:team:requested"},r.prototype.regions={optionsRegion:".jpot-options-region"},r.prototype.events={"click @ui.goBackToPlan":function(){return this.onGoBackToPlanClicked()}},r.prototype.initialize=function(t){if(this.isComefromPlan=t.isComefromPlan,window.location.search.indexOf("planUrl")>-1)return this.isComefromPlan=!0},r.prototype.onGoBackToPlanClicked=function(){var t;if(t=/planUrl\=([^\?]*)/.exec(window.location.href),t.length>1)return window.location.href=decodeURIComponent(t[1])},r}(t.LayoutView)}.apply(e,o))&&(t.exports=n)},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="jpot-label">'+(null==(__t="Shared teams and people")?"":_.escape(__t))+'</div><div class="jpot-options-region"></div><button class="aui-button jpot-create-team" type="button">'+(null==(__t="Create team")?"":_.escape(__t))+"</button>",isComefromPlan&&(__p+='<button class="aui-button jpot-back-plan" type="button"><span class="aui-icon aui-icon-small aui-iconfont-arrow-left"></span>'+(null==(__t="Back to plan")?"":_.escape(__t))+"</button>"),__p+="";return __p}},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(3),r(53),r(54),r(55)],void 0!==(n=function(t,e,r,o,n){return function(t){function a(){return a.__super__.constructor.apply(this,arguments)}return i(a,t),a.prototype.className="jpot-options",a.prototype.template=n,a.prototype.ui={button:".aui-button"},a.prototype.events=r.createBaseEvents({name:"@ui.button"}),a.prototype.initialize=function(t){this.api=t.api},a.prototype.onShow=function(){var t,r;return r=[],e.devMode&&r.push.apply(r,[{title:"Provoke server exception",callback:function(){return this.api.exceptionService.provokeRegular("Provoked exception")}},{title:"Provoke server exception (no content)",callback:function(){return this.api.exceptionService.provokeUnexpectedWithNoContent()}},{title:"Provoke server exception (string)",callback:function(){return this.api.exceptionService.provokeUnexpectedWithStringContent("Provoked exception")}},{title:"Provoke server exception (JSON)",callback:function(){return this.api.exceptionService.provokeUnexpectedWithJSONContent("Provoked exception")}},{title:"Provoke client error",callback:function(){throw new Error("Provoked Error!")}},{title:"Provoke client exception",callback:function(){return(void 0).thisIsNotAFunction()}},{title:"Provoke client 'throw string'",callback:function(){throw"Provoked String Throw!"}}]),t=new o({view:this,button:this.ui.button,buttonCaption:!1,title:"title",elements:r}),this.upon(t,"selection:changed",function(t){return t.callback.apply(this)})},a}(t.ItemView)}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(35)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(48)},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="aui-button aui-button-subtle" tabIndex="0"><span class="aui-icon aui-icon-small jpo-aui-icon jpo-aui-iconfont-more"></span></div>';return __p}},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(57),r(58),r(59),r(83),r(91)],void 0!==(n=function(t,e,r,o,n,a){var s;return s=t.LayoutView.createSimpleDefinition("jpot-content",[{key:"contentRegion",div:"jpot-content-region"}]),function(t){function p(){return p.__super__.constructor.apply(this,arguments)}return i(p,t),p.prototype.routing={targets:[r.teams.id,r.people.id,r.skills.id],defaultTarget:r.teams.id},p.prototype.initialize=function(t){return this.api=t.api,this.view=new s,this.tabViewController=new e({tabs:this.createTabs(),createContentView:function(t){return function(e){return t.createContentView(e)}}(this)}),this.upon(this.tabViewController,"tab:displayed",this.onTabDisplayed)},p.prototype.createTabs=function(){return[{id:r.teams.id,title:"Teams"},{id:r.people.id,title:"People"},{id:r.skills.id,title:"Skills"}]},p.prototype.onViewShown=function(){return this.view.contentRegion.show(this.tabViewController.getView())},p.prototype.createContentView=function(t){return this.tabContentViewController=this.createControllerForTab({tab:t}),this.forwardEvents(this.tabContentViewController,["person:details:requested","person:removed","team:removed","team:resource:removed"]),this.tabContentViewController.getView()},p.prototype.createControllerForTab=function(t){var e;switch(e=t.tab,e.id){case r.teams.id:return new o({api:this.api});case r.people.id:return new n({api:this.api});case r.skills.id:return new a({api:this.api})}},p.prototype.onTargetChanged=function(t){var e;return e=t.target,this.tabViewController.selectTab({id:e})},p.prototype.onTabDisplayed=function(t){var e;if(e=t.tab,this.navigate(e.id),e.id===r.skills.id)return this.trigger("skillTab:displayed")},p.prototype.adaptToNewTeam=function(t){var e;return"function"==typeof(e=this.tabContentViewController).adaptToNewTeam?e.adaptToNewTeam(t):void 0},p}(t.RoutedController)}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(240)},function(t,e,r){var o,n;o=[],void 0!==(n=function(){var t,e,r;return r={id:"teams",name:"Teams"},t={id:"people",name:"People"},e={id:"skills",name:"Skills"},{teams:r,people:t,skills:e}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(12),r(13),r(14),r(61)],void 0!==(n=function(t,e,r,o,n){var a;return a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.additionalStyles="jpot-teams-content",e}(o),function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return i(o,t),o.prototype.initialize=function(t){return this.api=t.api,this.view=new a},o.prototype.onViewShown=function(){var t;return t=this.createFilterController(),this.contentViewController=new n({api:this.api}),this.forwardEvents(this.contentViewController,["person:details:requested","team:removed","team:resource:removed"]),this.upon(t,"filter:changed",function(t){return this.contentViewController.adaptToFilter(t)}),this.view.searchRegion.show(t.getView()),this.view.contentRegion.show(this.contentViewController.getView())},o.prototype.createFilterController=function(){return new e({filter:{},fixedFilters:[r.create({id:"text",title:"",initialText:"Filter by name"})],resizeAdaption:function(){}})},o.prototype.adaptToNewTeam=function(t){return this.contentViewController.adaptToNewTeam(t)},o}(t.ViewController)}.apply(e,o))&&(t.exports=n)},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="jpot-warning-region"></div><div class="jpot-search-region"></div><div class="jpot-scroll-container"><div class="jpot-content-region"></div></div><div class="jpot-paging-region"></div>';return __p}},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(8),r(62),r(15),r(65)],void 0!==(n=function(t,e,r,o,n){return function(t){function a(){return a.__super__.constructor.apply(this,arguments)}return i(a,t),a.prototype.initialize=function(t){return this.api=t.api,this.loadingContentController=new e({createViewController:function(t){return function(e){var i,a,s,p;return p=e.teams,s=e.persons,a=o.parse({jsonArray:s,personService:t.api.personService}),t.teamCollection=r.parse({jsonArray:p,persons:a,teamService:t.api.teamService,resourceService:t.api.resourceService}),i=new n({api:t.api,teams:t.teamCollection,persons:a}),t.upon(t.teamCollection,{remove:function(t){return this.trigger("team:removed",t)},"resource:remove":function(t,e){return this.trigger("team:resource:removed",t,e)}}),t.forwardEvents(i,"person:details:requested"),i}}(this)}),this.adaptToFilter({filter:{}}),this.view=this.loadingContentController.getView()},a.prototype.adaptToFilter=function(t){var e;return e=t.filter,delete this.teamCollection,this.loadingContentController.setDeferred(this.api.teamService.findTeams({query:null!=e?e.text:void 0}))},a.prototype.adaptToNewTeam=function(t){if(this.teamCollection)return this.teamCollection.add(t)},a}(t.ViewController)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(1),r(0),r(21)],void 0!==(n=function(t,e,r){return function(e){function o(t,e){o.__super__.constructor.apply(this,arguments),e&&(this.service=e.service)}return i(o,e),o.parse=function(e){var o,n,i,a;return o=e.jsonArray,n=e.persons,a=e.teamService,i=e.resourceService,new this(t.map(o,function(t){return r.parse({json:t,persons:n,teamService:a,resourceService:i})}),{service:a})},o.prototype.remove=function(t){if(o.__super__.remove.apply(this,arguments),this.service)return this.service.delete({team:t})},o}(e.Collection)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(6),r(1),r(0),r(15),r(16)],void 0!==(n=function(t,e,r,o,n){return function(r){function a(t,e){a.__super__.constructor.apply(this,arguments),e&&(this.service=e.service,this.persons=e.persons)}return i(a,r),a.parse=function(t){var r,o,i;return r=t.jsonArray,o=t.persons,i=t.resourceService,new this(e.map(r,function(t){return n.parse({json:t,persons:o,resourceService:i})}),{service:i,persons:o})},a.new=function(){return new this([],{persons:new o})},a.prototype.setService=function(t){this.service=t},a.prototype.setTeam=function(t){return this.team=t},a.prototype.tryAdd=function(e){var r;if(!this.service)throw new Error("Service must be present.");return r=e.getPerson(),null!=r.getId()?t.when(this.service.add({team:this.team,resource:e})).done(function(t){return function(o){return e.set("id",o.resourceId),e.service=t.service,null==t.persons.get(r.getId())&&t.persons.add(r),t.add(e)}}(this)):t.when(this.service.create({team:this.team,resource:e})).done(function(t){return function(o){return r.set("id",o.personId),e.set("id",o.resourceId),e.service=t.service,t.persons.add(r),t.add(e)}}(this))},a.prototype.tryRemove=function(t){if(this.remove(t),null!=this.service)return this.service.delete({resource:t})},a}(r.Collection)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(4)],void 0!==(n=function(t){return function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.getId=function(){return this.id},e.prototype.getEmail=function(){return this.attributes.email},e.prototype.getUserName=function(){return this.attributes.userName},e.parse=function(t){var e,r;return r=t.json,e={id:r.jiraUserId,userName:r.jiraUsername,title:r.title,avatarUrl:r.avatarUrl,email:r.email},new this(e)},e}(t.Model)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(66)],void 0!==(n=function(t,e){return function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype.initialize=function(t){var r,o,n;return r=t.api,n=t.teams,o=t.persons,this.view=new e({collection:n,api:r,persons:o}),this.upon(this.view,"team:person:details:requested",function(t,e,r){return this.trigger("person:details:requested",e,r)})},r}(t.ViewController)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(1),r(0),r(67)],void 0!==(n=function(t,e,r){var o;return o=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,e),r.prototype.className="jpot-no-teams",r.prototype.template=function(){return"<div>"+t.escape("No shared teams available.")+"</div>"},r}(e.ItemView),function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.className="jpot-teams-collection-view",n.prototype.childView=r,n.prototype.childViewEventPrefix="team",n.prototype.childEvents={"delete:request":function(t,r){var o;return o=r.model,e.Notifications.show({handler:"confirmation",title:"Delete team",message:AJS.format("Please confirm that you want to permanently delete the team \'\'{0}\'\'. The team will be removed from all plans it has been added to.",o.getTitle()),confirmationCaption:"Delete",confirmationAction:function(t){return function(){return t.collection.remove(o)}}(this)})}},n.prototype.childViewOptions=function(){return{api:this.api,persons:this.persons}},n.prototype.emptyView=o,n.prototype.initialize=function(t){this.api=t.api,this.persons=t.persons},n}(e.CollectionView)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(1),r(0),r(3),r(68),r(69),r(70),r(82)],void 0!==(n=function(t,e,r,o,n,a,s){return function(e){function p(){return p.__super__.constructor.apply(this,arguments)}return i(p,e),p.prototype.className="jpot-team",p.prototype.template=s,p.prototype.ui={expansionHandle:".jpot-expansion-handle",avatar:".jpot-avatar",deleteButton:".jpot-delete-team-icon"},p.prototype.triggers={"click @ui.deleteButton":"delete:request"},p.prototype.events={"click @ui.expansionHandle":function(){return this.onExpansionHandleClicked()}},p.prototype.regions={titleRegion:".jpot-title-region",resourcesRegion:".jpot-resources-region",detailsRegion:".jpot-details-region"},p.prototype.initialize=function(t){this.api=t.api,this.persons=t.persons},p.prototype.onShow=function(){var e,i,a;return e=this.model.getAvatarUrl(),null!=e&&this.ui.avatar.css({"background-image":"url("+e+")"}),i=new n({getValueFunction:function(t){return function(){return t.model.getTitle()}}(this),setValueFunction:function(t){return function(e){return t.model.setTitle(e)}}(this),isInputValidFunction:function(e){return!t.isEmpty(e)}}),a=new o({collection:this.model.getResources(),collectionLabel:"People",getTitle:function(t){return t.getTitle()},getAvatarUrl:function(t){var e;return null!=(e=t.getAvatarUrl())?e:r.defaultUserAvatar}}),this.titleRegion.show(i),this.resourcesRegion.show(a)},p.prototype.onExpansionHandleClicked=function(){var t;return this.isExpanded?(this.detailsRegion.empty(),this.isExpanded=!1):(t=new a({team:this.model,api:this.api,persons:this.persons}),this.forwardEvents(t,"person:details:requested"),this.detailsRegion.show(t.getView()),this.isExpanded=!0),this.$el.toggleClass("jpot-expanded",this.isExpanded),this.ui.expansionHandle.toggleClass("jpot-expanded",this.isExpanded)},p}(e.LayoutView)}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(261)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(196)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(2),r(17),r(71)],void 0!==(n=function(t,e,r,o){return function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.initialize=function(t){var e;return this.team=t.team,this.api=t.api,this.persons=t.persons,e=this.createTableController(),this.view=e.getView()},n.prototype.createTableController=function(){var t,n,i;return n=o.create({api:this.api,team:this.team,persons:this.persons}),t=new r({placeholder:"Add person",toItemFunction:function(t){return n.createNewItem(t)}}),i=new e.Component({data:this.team.getResources(),tableConfiguration:n,additionalContent:t.getView(),autoHeight:!0}),t.setTable(i),i.setRankable(!1).setAddingAllowed(!0).setInlineAddingAllowed(!1),this.upon(i,"details:requested",function(t){return function(e){var r;return r={initiallyExpandedTeam:t.team},t.trigger("person:details:requested",e.getPerson(),r)}}(this)),i},n}(t.ViewController)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(2),r(16),r(72),r(73),r(80)],void 0!==(n=function(t,e,r,o,n,a){return{create:function(s){var p,u,c;return p=s.api,c=s.team,u=s.persons,new(function(e){function s(){return s.__super__.constructor.apply(this,arguments)}return i(s,e),s.prototype.initialize=function(){var t,e,r;return t=o.create({}),e=n.create({api:p,team:c,persons:u}),r=a.create({}),this.coreColumns=[e],this.additionalColumns=[r,t],this.widthReduceColumn=e},s.prototype.rankHeaderShown=!1,s.prototype.recreateCellsOnCreate=function(){return!0},s.prototype.deleteCheck=function(e,r){return function(e,r,o){return t.Notifications.show({handler:"confirmation",title:"Remove team member",message:AJS.format("Are you sure you want to remove \'\'{0}\'\' from the team \'\'{1}\'\'?",e.getTitle(),c.getTitle()),confirmationCaption:AJS.format("Remove",c.getTitle()),confirmationAction:function(){return o({backendCallback:function(){}})}})}},s.prototype.createNewItem=function(){return r.new()},s.prototype.isEmpty=function(t){return void 0===t.getPerson()},s}(e.SingleLevelTableConfiguration))}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(2),r(11),r(18)],void 0!==(n=function(t,e,r){return{create:function(){var o,n;return n=e.create({}),o=r.create({}),new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.id="actions",e.prototype.title="Actions",e.prototype.width=100,e.prototype.maxWidth=100,e.prototype.hideable=!1,e.prototype.getCellView=function(t,e){return e.isNew()?n:o},e}(t.Column))}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(3),r(2),r(22),r(76)],void 0!==(n=function(t,e,r,o){return{create:function(n){var a,s,p,u,c;return p=n.api,c=n.team,u=n.persons,a=o.create({api:p,team:c,persons:u}),s=r.create({getTitle:function(t){return t.getTitle()},getAvatarUrl:function(e){var r;return null!=(r=e.getAvatarUrl())?r:t.defaultUserAvatar},isVirtual:function(t){return t.getPerson().isVirtual()},value:function(t){return t.getTitle()}}),new(function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype.id="name",r.prototype.title="Name",r.prototype.hideable=!1,r.prototype.width=400,r.prototype.minWidth=160,r.prototype.getCellView=function(t,e){return e.isNew()?a:s},r.prototype.comparatorFactory=e.ComparatorFactories.Strings.instance(function(t){return t.getTitle()}),r}(e.Column))}}}.apply(e,o))&&(t.exports=n)},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="jpot-avatar"></div><a class="jpot-title" href="javascript:void(0)">'+(null==(__t=title)?"":_.escape(__t))+"</a>",isVirtual&&(__p+='<span class="aui-lozenge aui-lozenge-subtle">'+(null==(__t="Virtual")?"":_.escape(__t))+"</span>"),__p+="";return __p}},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="jpot-avatar"></div><div class="jpot-title">'+(null==(__t=title)?"":_.escape(__t))+"</div>",isVirtual&&(__p+='<span class="aui-lozenge aui-lozenge-subtle">'+(null==(__t="Virtual")?"":_.escape(__t))+"</span>"),__p+="";return __p}},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(2),r(77),r(78),r(10),r(79)],void 0!==(n=function(t,e,r,o,n){return{create:function(a){var s,p,u;return u=a.team,s=a.api,p=a.persons,function(t){function a(){return a.__super__.constructor.apply(this,arguments)}return i(a,t),a.prototype.className="jpot-title-cell-create",a.prototype.initialize=function(){return new e({view:this,flyoutGenerator:this.flyoutGenerator})},a.prototype.flyoutGenerator=function(){return new r({anchor:this.$el,createButtonText:"Create virtual user",deferred:n.createFlyoutDeferred({team:u,api:s})})},a.prototype.activate=function(){return this.trigger("flyout:expand")},a.prototype.selectPerson=function(t){var e,r;return r=t.person,this._selected=!0,e=null!=r.getId()?p.get(r.getId()):void 0,this.model.setPerson(null!=e?e:r),this.trigger("create")},a.prototype.onFlyoutDropdownSelectItem=function(t,e){var r;return r=e.item,this.selectPerson({person:r.get("person")})},a.prototype.onFlyoutDropdownCreateItem=function(t,e){var r,n;return n=e.title,r=o.new({title:n}),this.selectPerson({person:r})},a.prototype.onFlyoutDropdownDialogClose=function(){if(!this._selected)return this.model.setPerson(void 0),this.trigger("create")},a}(t.BaseCell.ItemView)}}}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(6)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(215)},function(t,e,r){var o,n;o=[r(1),r(6),r(10)],void 0!==(n=function(t,e,r){var o,n;return o=function(t){var e;return e=t.person,e.isVirtual()?{styleName:"virtual",displayName:"Virtual"}:{styleName:"jira",displayName:"Jira"}},n=function(t){var e,n,i;return e=r.parse({json:t}),n=o({person:e}),i=e.getTitle(),{title:i,tag:n.displayName,additionalStyles:"jpot-"+n.styleName,person:e}},{createFlyoutDeferred:function(r){var o,i;return i=r.team,o=r.api,function(r){var a,s;return s=r.query,a=i.getPersonIds(),e.when(o.personService.find({query:s,excludedIds:a})).then(function(e){return{items:t.map(e.results,n),hasMore:e.moreResultsAvailable}})}}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(2),r(11),r(19),r(81)],void 0!==(n=function(t,e,r,o){return{create:function(){var n,a,s,p;return p=0,s=9999,a=e.create({}),n=r.create({value:"weeklyHours",setValueCheck:function(t){return void 0===t||o.validateDouble({value:t,min:p,max:s})},setValue:function(t){var e;return e=null!=t?+t:void 0,this.setValue("weeklyHours",e)},additionalStyles:"jpot-weekly-hours-cell"}),new(function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,e),r.prototype.id="weeklyHours",r.prototype.title="Weekly hours",r.prototype.width=150,r.prototype.maxWidth=200,r.prototype.hideable=!1,r.prototype.getCellView=function(t,e){return e.isNew()?a:n},r.prototype.comparatorFactory=t.ComparatorFactories.Numbers.instance(function(t){return t.getWeeklyHours()}),r}(t.Column))}}}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(377)},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="jpot-header"><div class="jpot-expansion-handle"><span class="aui-icon aui-icon-small jpo-aui-icon"></span></div><div class="jpot-avatar"></div><div class="jpot-title-region"></div><div class="jpot-resources-region"></div><span class="jpot-delete-team-icon aui-icon aui-icon-small jpo-aui-icon jpo-aui-iconfont-close-dialog"></span></div><div class="jpot-details-region"></div>';return __p}},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(14),r(84),r(12),r(13)],void 0!==(n=function(t,e,r,o,n){var a;return a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.additionalStyles="jpot-people-content",e}(e),function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.initialize=function(t){return this.api=t.api,this.view=new a},e.prototype.onViewShown=function(){var t,e;return t=this.createFilterController(),e=new r({api:this.api}),this.upon(t,"filter:changed",function(t){return e.adaptToFilter(t)}),this.forwardEvents(e,["person:details:requested","person:removed"]),this.view.searchRegion.show(t.getView()),this.view.contentRegion.show(e.getView())},e.prototype.createFilterController=function(){return new o({filter:{},fixedFilters:[n.create({id:"text",title:"",initialText:"Filter by name"})],resizeAdaption:function(){}})},e}(t.ViewController)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(2),r(17),r(8),r(15),r(85)],void 0!==(n=function(t,e,r,o,n,a){return function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return i(s,t),s.prototype.initialize=function(t){return this.api=t.api,this.loadingContentController=new o({createViewController:function(t){return function(e){return t.personCollection=n.parse({jsonArray:e.results,personService:t.api.personService}),t.upon(t.personCollection,"remove",function(t){return this.trigger("person:removed",t)}),t.createTableController(t.personCollection)}}(this)}),this.adaptToFilter({filter:{}}),this.view=this.loadingContentController.getView()},s.prototype.createTableController=function(t){var o,n,i;return o=new r({placeholder:"Add person"}),n=a.create({api:this.api,persons:t}),i=new e.Component({data:t,tableConfiguration:n,additionalContent:o.getView()}),i.setRankable(!1).setAddingAllowed(!0).setInlineAddingAllowed(!1),o.setTable(i),this.upon(i,"details:requested",function(t){return function(e){return t.trigger("person:details:requested",e)}}(this)),i},s.prototype.adaptToFilter=function(t){var e;return e=t.filter,delete this.personCollection,this.loadingContentController.setDeferred(this.api.personService.findPage({query:null!=e?e.text:void 0}))},s.prototype.adaptToNewPerson=function(t){if(this.personCollection)return this.personCollection.add(t)},s}(t.ViewController)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(86),r(2),r(87),r(88),r(89),r(90),r(10)],void 0!==(n=function(t,e,r,o,n,a,s,p){return{create:function(u){return u.api,u.persons,new(function(r){function u(){return u.__super__.constructor.apply(this,arguments)}return i(u,r),u.prototype.initialize=function(){var t,e,r,i;return r=o.create(),i=a.create(),e=n.create(),t=s.create(),this.coreColumns=[r],this.additionalColumns=[i,e,t],this.widthReduceColumn=r},u.prototype.rankHeaderShown=!1,u.prototype.recreateCellsOnCreate=function(){return!0},u.prototype.deleteCheck=function(e,r){return function(e,r,o){return t.Notifications.show({handler:"confirmation",width:620,title:"Delete person",message:AJS.format("The person will be removed from any teams they are currently a member of.",e.getTitle()),confirmationCaption:"Delete",confirmationAction:function(){return o({backendCallback:function(){}})}})}},u.prototype.isEmpty=function(t){return null==t.getTitle()},u.prototype.createNewItem=function(){return e.fireVirtualPersonCreated(),p.new()},u}(r.SingleLevelTableConfiguration))}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n;o=[r(7)],void 0!==(n=function(t){return{fireVirtualPersonCreated:function(){return t.fire("virtual.person.created")}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(3),r(2),r(19),r(22)],void 0!==(n=function(t,e,r,o){return{create:function(){var n,a;return n=r.create({value:"title",additionalStyles:"jpot-title-create-cell"}),a=o.create({getTitle:function(t){return t.getTitle()},getAvatarUrl:function(e){var r;return null!=(r=e.getAvatarUrl())?r:t.defaultUserAvatar},isVirtual:function(t){return t.isVirtual()},value:function(t){return t.getTitle()}}),new(function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype.id="title",r.prototype.title="Title",r.prototype.hideable=!1,r.prototype.width=400,r.prototype.minWidth=160,r.prototype.getCellView=function(t,e){return e.isNew()?n:a},r.prototype.comparatorFactory=e.ComparatorFactories.Strings.instance(function(t){return t.getTitle()}),r}(e.Column))}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n;o=[r(2),r(20)],void 0!==(n=function(t,e){return{create:function(){return e.create({value:function(t){var e,r;return null!=(e=null!=(r=t.getUser())?r.getEmail():void 0)?e:"-"}}).asColumn(AJS.format("Email",{id:"email",hideable:!1,maxWidth:300,comparatorFactory:t.ComparatorFactories.Strings.instance(function(t){var e;return null!=(e=t.getUser())?e.getEmail():void 0})}))}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n;o=[r(2),r(20)],void 0!==(n=function(t,e){return{create:function(){return e.create({value:function(t){var e,r;return null!=(e=null!=(r=t.getUser())?r.getUserName():void 0)?e:"-"}}).asColumn(AJS.format("Name",{id:"username",hideable:!1,maxWidth:300,comparatorFactory:t.ComparatorFactories.Strings.instance(function(t){var e;return null!=(e=t.getUser())?e.getUserName():void 0})}))}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(2),r(11),r(18)],void 0!==(n=function(t,e,r){return{create:function(){var o,n;return n=e.create({}),o=r.create({customLabel:"Delete"}),new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.id="actions",e.prototype.title="Actions",e.prototype.width=100,e.prototype.maxWidth=100,e.prototype.hideable=!1,e.prototype.getCellView=function(t,e){return t.isVirtual()&&!e.isNew()?o:n},e}(t.Column))}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(12),r(13),r(14),r(92),r(97)],void 0!==(n=function(t,e,r,o,n,a){var s;return s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.additionalStyles="jpot-skills-content",e}(o),function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return i(o,t),o.prototype.initialize=function(t){return this.api=t.api,this.view=new s},o.prototype.onViewShown=function(){var t,e;return t=this.createFilterController(),e=new n({api:this.api}),this.upon(t,"filter:changed",function(t){return e.adaptToFilter(t)}),this.view.searchRegion.show(t.getView()),this.view.contentRegion.show(e.getView()),this.view.warningRegion.show(new a)},o.prototype.createFilterController=function(){return new e({filter:{},fixedFilters:[r.create({id:"text",title:"",initialText:"Filter by skill"})],resizeAdaption:function(){}})},o}(t.ViewController)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(2),r(17),r(8),r(93),r(94)],void 0!==(n=function(t,e,r,o,n,a){return function(t){function s(){return s.__super__.constructor.apply(this,arguments)}return i(s,t),s.prototype.initialize=function(t){return this.api=t.api,this.loadingContentController=new o({createViewController:function(t){return function(e){return t.skillCollection=n.parse({jsonArray:e.skills,skillService:t.api.skillService}),t.createTableController(t.skillCollection)}}(this)}),this.adaptToFilter({filter:{}}),this.view=this.loadingContentController.getView()},s.prototype.createTableController=function(t){var o,n,i;return o=new r({placeholder:"Add skill"}),n=a.create({api:this.api,skills:t}),i=new e.Component({data:t,tableConfiguration:n,additionalContent:o.getView()}),i.setRankable(!1).setAddingAllowed(!0).setInlineAddingAllowed(!1),o.setTable(i),i},s.prototype.adaptToFilter=function(t){var e;return e=t.filter,delete this.skillCollection,this.loadingContentController.setDeferred(this.api.skillService.findSkills({query:null!=e?e.text:void 0}))},s.prototype.adaptToNewSkill=function(t){if(this.skillCollection)return this.skillCollection.add(t)},s}(t.ViewController)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(1),r(6),r(0),r(23)],void 0!==(n=function(t,e,r,o){return function(r){function n(t,e){n.__super__.constructor.apply(this,arguments),e&&(this.service=e.service)}return i(n,r),n.parse=function(e){var r,n,i;return r=e.jsonArray,n=e.skillService,i=t.map(r,function(t){return o.parse({json:t,skillService:n})}),new this(i,{service:n})},n.prototype.tryAdd=function(t){return null!=this.service?e.when(this.service.create({skill:t})).done(function(e){return function(r){var o;return o=r.id,t.set("id",o),t.service=e.service,e.add(t)}}(this)):this.add(t)},n.prototype.tryRemove=function(t){if(this.remove(t),null!=this.service)return this.service.delete({skill:t})},n}(r.Collection)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(2),r(95),r(96),r(23)],void 0!==(n=function(t,e,r,o,n){return{create:function(a){return a.api,a.skills,new(function(e){function a(){return a.__super__.constructor.apply(this,arguments)}return i(a,e),a.prototype.initialize=function(){var t,e;return e=r.create(),t=o.create(),this.coreColumns=[e],this.additionalColumns=[t],this.widthReduceColumn=e},a.prototype.rankHeaderShown=!1,a.prototype.recreateCellsOnCreate=function(){return!0},a.prototype.deleteCheck=function(e){return function(e,r,o){return t.Notifications.show({handler:"confirmation",width:620,title:"Delete skill",message:AJS.format("Are you sure you want to delete the skill \'\'{0}\'\'? It will be removed from all plans and people that it was added to.",e.getTitle()),confirmationCaption:"Delete",confirmationAction:function(){return o({backendCallback:function(){}})}})}},a.prototype.isEmpty=function(t){return null==t.getTitle()},a.prototype.createNewItem=function(){return n.new()},a}(e.SingleLevelTableConfiguration))}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(2),r(19),r(20)],void 0!==(n=function(t,e,r){return{create:function(){var o,n;return o=e.create({value:"title"}),n=r.create({value:"title"}),new(function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,e),r.prototype.id="title",r.prototype.title="Skill",r.prototype.hideable=!1,r.prototype.width=400,r.prototype.minWidth=160,r.prototype.widthDependentStyles=function(t){return[".jpot-title { max-width : "+(t-120)+"px !important; }"]},r.prototype.getCellView=function(t,e){return e.isNew()?o:n},r.prototype.comparatorFactory=t.ComparatorFactories.Strings.instance(function(t){return t.getTitle()}),r}(t.Column))}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(2),r(11),r(18)],void 0!==(n=function(t,e,r){return{create:function(){var o,n;return n=e.create({}),o=r.create({customLabel:"Delete"}),new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.id="actions",e.prototype.title="Actions",e.prototype.width=100,e.prototype.maxWidth=100,e.prototype.hideable=!1,e.prototype.getCellView=function(t,e){return e.isNew()?n:o},e}(t.Column))}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(98)],void 0!==(n=function(t,e){return function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype.className="jpot-skill-not-support-improved-interface",r.prototype.template=e,r}(t.LayoutView)}.apply(e,o))&&(t.exports=n)},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="jpoc-message-panel aui-message"><span class="aui-icon jpo-message-icon icon-hint"></span><div class="jpoc-message-panel-message">'+(null==(__t="Skills are not supported in the improved interface.")?"":_.escape(__t))+'<a class="jpot-warning-learn-more" target="_blank" href="https://confluence.atlassian.com/display/JIRASOFTWARESERVER/Advanced+Roadmaps+documentation">'+(null==(__t="Learn more")?"":_.escape(__t))+"</a></div></div>";return __p}},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(1),r(4),r(0),r(8),r(100),r(101),r(102)],void 0!==(n=function(t,e,r,o,n,a,s){return function(r){function p(){return p.__super__.constructor.apply(this,arguments)}return i(p,r),p.prototype.initialize=function(t){var e,r;return this.api=t.api,r=t.person,e=t.initiallyExpandedTeam,this.loadingController=new o({deferred:this.getAbsencesAndAvailabilitiesForPerson(r),createViewController:function(t){return function(o){var n,i,p;return i={joinDate:o.joinDate,leaveDate:o.leaveDate},n=a.parse({jsonArray:o.absences,absenceService:t.api.absenceService}),p=t.parseTeamResources(o.teams),t.personDetailsViewController=new s({api:t.api,person:r,personJoinLeaveDates:i,absences:n,resources:p,initiallyExpandedTeam:e}),t.forwardEvents(t.personDetailsViewController,"close:details"),t.personDetailsViewController}}(this),additionalStyles:"jpoc-loading-stretch",showSpinner:!0}),this.view=this.loadingController.getView()},p.prototype.getAbsencesAndAvailabilitiesForPerson=function(t){return this.api.personService.getAbsencesAndAvailabilities({person:t}).fail(function(t){return function(){return t.trigger("close:details")}}(this))},p.prototype.parseTeamResources=function(r){var o;return o=t.map(r,function(t){var r,o;return r=t.resource,o={id:r.id,joinDate:r.joinDate,leaveDate:r.leaveDate,weeklyHours:r.weeklyHours,team:{id:t.id,title:t.title,avatarUrl:t.avatarUrl},availabilities:n.parse({jsonArray:r.availabilities})},new e.Model(o)}),new e.Collection(o)},p.prototype.onPersonRemoved=function(t){var e;return null!=(e=this.personDetailsViewController)?e.onPersonRemoved(t):void 0},p.prototype.onTeamRemoved=function(t){var e;return null!=(e=this.personDetailsViewController)?e.onTeamRemoved(t):void 0},p.prototype.onResourceRemoved=function(t){var e;return null!=(e=this.personDetailsViewController)?e.onResourceRemoved(t):void 0},p.prototype.onSkillTabDisplayed=function(){var t;return null!=(t=this.personDetailsViewController)?t.onSkillTabDisplayed():void 0},p}(r.ViewController)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(1),r(0),r(24)],void 0!==(n=function(t,e,r){return function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return i(o,e),o.prototype.comparator=function(t){return t.getStartDate()},o.parse=function(e){var o;return o=e.jsonArray,new this(t.map(o,function(t){return r.parse({json:t})}))},o}(e.Collection)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(1),r(0),r(25)],void 0!==(n=function(t,e,r){return function(e){function o(){return o.__super__.constructor.apply(this,arguments)}return i(o,e),o.prototype.comparator=function(t){return t.getStartDate()},o.parse=function(e){var o;return o=e.jsonArray,new this(t.map(o,function(t){return r.parse({json:t})}))},o}(e.Collection)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(16),r(103),r(104),r(105),r(106),r(107)],void 0!==(n=function(t,e,r,o,n,a,s){return function(t){function p(){return p.__super__.constructor.apply(this,arguments)}return i(p,t),p.prototype.initialize=function(t){var e,n;return this.api=t.api,this.person=t.person,n=t.personJoinLeaveDates,e=t.absences,this.resources=t.resources,this.initiallyExpandedTeam=t.initiallyExpandedTeam,this.view=new s,this.headerView=new r({model:this.person,personAdapter:a.person}),this.globalAvailabilityViewController=new o({person:this.person,personAdapter:{getJoinDate:function(){return n.joinDate},getLeaveDate:function(){return n.leaveDate},getAbsences:function(){return e}},absenceAdapter:a.absence}),this.teamAvailabilitiesViewController=this.createTeamAvailabilitiesViewController(),this.forwardEvents(this.headerView,"close:details"),this.upon(this.globalAvailabilityViewController,{"join:leave:dates:changed":this.onPersonJoinLeaveDatesChanged,"absence:created absence:updated absence:deleted":this.onPersonAbsencesChanged})},p.prototype.createTeamAvailabilitiesViewController=function(){var t;return t=new n({resources:this.resources,resourceAdapter:a.resource,teamAdapter:a.team,exceptionAdapter:a.exception}),this.upon(t,{"resource:join:leave:dates:changed":this.onResourceJoinLeaveDatesChanged,"resource:weekly:hours:changed":this.onResourceWeeklyHoursChanged,"resource:exception:created resource:exception:updated resource:exception:deleted":this.onResourceExceptionsChanged}),t},p.prototype.onViewShown=function(){if(this.view.headerRegion.show(this.headerView),this.view.globalAvailabilityRegion.show(this.globalAvailabilityViewController.getView()),this.view.teamAvailabilityRegion.show(this.teamAvailabilitiesViewController.getView()),null!=this.initiallyExpandedTeam)return this.teamAvailabilitiesViewController.expandTeamWithId(this.initiallyExpandedTeam.getId())},p.prototype.onPersonJoinLeaveDatesChanged=function(t){var e,r;return e=t.joinDate,r=t.leaveDate,this.api.personService.setValues(this.person,{joinDate:e,leaveDate:r})},p.prototype.onPersonAbsencesChanged=function(t){var e;return e=t.absences,this.api.personService.setValue(this.person,"absences",e.toJSON())},p.prototype.onResourceJoinLeaveDatesChanged=function(t,e){var r,o,n;return r=e.joinDate,o=e.leaveDate,n=this.createResourceModelWithId(t.attributes.id),this.api.resourceService.setValues(n,{joinDate:r,leaveDate:o})},p.prototype.onResourceWeeklyHoursChanged=function(t,e){var r,o;return o=e.weeklyHours,r=this.createResourceModelWithId(t.attributes.id),this.api.resourceService.setValues(r,{weeklyHours:o})},p.prototype.onResourceExceptionsChanged=function(t,e){var r,o;return r=e.exceptions,o=this.createResourceModelWithId(t.attributes.id),this.api.resourceService.setValue(o,"availabilities",r.toJSON())},p.prototype.onPersonRemoved=function(t){if(this.person.getId()===t.getId())return this.trigger("close:details")},p.prototype.onSkillTabDisplayed=function(){return this.trigger("close:details")},p.prototype.onTeamRemoved=function(t){var e;if(null!=(e=this.resources.find(function(e){return e.attributes.team.id===t.getId()})))return this.resources.remove(e),this.updateTeamAvailabilitiesView()},p.prototype.onResourceRemoved=function(t){var e;if(null!=(e=this.resources.get(t.getId())))return this.resources.remove(e),this.updateTeamAvailabilitiesView()},p.prototype.updateTeamAvailabilitiesView=function(){return this.view.teamAvailabilityRegion.show(this.createTeamAvailabilitiesViewController().getView())},p.prototype.createResourceModelWithId=function(t){return e.new({id:t})},p}(t.ViewController)}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=team_management_client_common_a89c093b50695780e729(231)},function(t,e){t.exports=team_management_client_common_a89c093b50695780e729(230)},function(t,e){t.exports=team_management_client_common_a89c093b50695780e729(234)},function(t,e,r){var o,n;o=[r(3),r(25),r(24)],void 0!==(n=function(t,e,r){return{absence:{getStartDate:function(t){return t.getStartDate()},getEndDate:function(t){return t.getEndDate()},getTitle:function(t){return t.getTitle()},create:function(t){var r,o,n;return o=t.startDate,r=t.endDate,n=t.title,e.new({startDate:o,endDate:r,title:n})}},person:{getTitle:function(t){return t.getTitle()},getAvatarUrl:function(e){var r;return null!=(r=e.getAvatarUrl())?r:t.defaultUserAvatar}},resource:{getId:function(t){return t.attributes.id},getJoinDate:function(t){return t.attributes.joinDate},getLeaveDate:function(t){return t.attributes.leaveDate},getWeeklyHours:function(t){return t.attributes.weeklyHours},getTeam:function(t){return t.attributes.team},getExceptions:function(t){return t.attributes.availabilities}},team:{getId:function(t){return t.id},getTitle:function(t){return t.title},getAvatarUrl:function(t){var e;return null!=(e=t.avatarUrl)&&e}},exception:{getStartDate:function(t){return t.getStartDate()},getEndDate:function(t){return t.getEndDate()},getWeeklyHours:function(t){return t.getWeeklyHours()},getTitle:function(t){return t.getTitle()},create:function(t){var e,o,n,i;return o=t.startDate,e=t.endDate,i=t.weeklyHours,n=t.title,r.new({startDate:o,endDate:e,weeklyHours:i,title:n})}}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(0),r(108)],void 0!==(n=function(t,e){return function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype.className="jpot-person-details",r.prototype.template=e,r.prototype.regions={globalAvailabilityRegion:".jpot-global-availability-region",teamAvailabilityRegion:".jpot-team-availability-region",headerRegion:".jpot-header-region"},r}(t.LayoutView)}.apply(e,o))&&(t.exports=n)},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="jpot-header-region"></div><div class="jpot-warning-region"><div class="jpoc-message-panel aui-message"><span class="aui-icon jpo-message-icon icon-hint"></span><div class="jpoc-message-panel-message">'+(null==(__t="Global and team availability are not supported in the improved interface.")?"":_.escape(__t))+'<div class="learn-more-link"><a class="jpot-warning-learn-more" target="_blank" href="https://confluence.atlassian.com/display/JIRASOFTWARESERVER/Advanced+Roadmaps+documentation">'+(null==(__t="Learn more")?"":_.escape(__t))+'</a></div></div></div></div><div class="jpoc-lined-header-container"><h3>'+(null==(__t="Global availability")?"":_.escape(__t))+'</h3></div><div class="jpot-global-availability-region"></div><div class="jpoc-lined-header-container"><h3>'+(null==(__t="Team availability")?"":_.escape(__t))+'</h3></div><div class="jpot-team-availability-region"></div>';return __p}},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(6),r(0),r(110),r(111)],void 0!==(n=function(t,e,r,o){return function(n){function a(){return a.__super__.constructor.apply(this,arguments)}return i(a,n),a.prototype.initialize=function(t){this.api=t.api},a.prototype.showDialog=function(){var n;return n=new o,this.upon(n,"close",this.close),this.upon(n,"create:team",function(){var e;return r.fireTeamCreated(),n.startProgress(),e=n.getTeam(),t.when(this.api.teamService.create({team:e})).fail(function(){return n.stopProgress()}).done(function(t){return function(r){return n.trigger("dialog:close"),t.finaliseTeamCreation({team:e,id:r.id,api:t.api}),t.trigger("team:created",e)}}(this))}),e.Dialogs.show(n)},a.prototype.finaliseTeamCreation=function(t){var e,r,o;return o=t.team,r=t.id,e=t.api,o.set("id",r),o.setServices({teamService:e.teamService,resourceService:e.resourceService})},a}(e.Controller)}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n;o=[r(7)],void 0!==(n=function(t){return{fireTeamCreated:function(){return t.fire("team.created")}}}.apply(e,o))&&(t.exports=n)},function(t,e,r){var o,n,i=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=[r(112),r(21),r(113)],void 0!==(n=function(t,e,r){return function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return i(o,t),o.prototype.className="jpot-create-team-dialog-content",o.prototype.dialog=function(){return{title:"Create shared team",noPadding:!0,dialogClass:"jpot-create-team",size:"large",width:420,height:210,cancelable:!0,buttons:[{caption:"Create",styles:"aui-button-primary",event:"create:team"}]}},o.prototype.template=r,o.prototype.containers="@",o.prototype.ui={titleInput:".jpot-team-name"},o.prototype.regions={contentRegion:".jpot-content-region"},o.prototype.events={"input @ui.titleInput":function(t){var e;return e=this.ui.titleInput.val().trim(),e.length>0?(this.model.setValue("title",e),this.enableAddTeamButton()):this.disableAddTeamButton()}},o.prototype.initialize=function(){return this.model=e.new({shareable:!0})},o.prototype.onShow=function(){return this.disableAddTeamButton()},o.prototype.disableAddTeamButton=function(){return this.buttons[0].prop("disabled",!0)},o.prototype.enableAddTeamButton=function(){return this.buttons[0].prop("disabled",!1)},o.prototype.getTeam=function(){return this.model},o}(t.Views.Layout)}.apply(e,o))&&(t.exports=n)},function(t,e){t.exports=common_client_13f7e765c347af1a1deb(64)},function(module,exports){module.exports=function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{})__p+='<div class="jpot-selection-region"><fieldset class="group jpot-fieldset-team-name"><div class="field-group"><label for="jpot-team-name">'+(null==(__t="Name")?"":_.escape(__t))+'<span class="aui-icon icon-required">required</span></label><input class="text jpot-team-name" id="jpot-team-name" type="text" maxlength="255"/></div></fieldset></div>';return __p}}]);
}catch(e){WRMCB(e)};
